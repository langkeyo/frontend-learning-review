{
  "title": "请求取消练习",
  "description": "实现一个带有取消功能的搜索框，当用户快速输入时取消之前的请求。",
  "starterCode": {
    "html": "<div id=\"app\">\n  <h1>实时搜索</h1>\n  <input type=\"text\" id=\"search\" placeholder=\"搜索...\">\n  <div id=\"results\"></div>\n  <div id=\"status\"></div>\n</div>",
    "css": "body {\n  font-family: Arial, sans-serif;\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n#results {\n  margin-top: 20px;\n}\n\n.search-result {\n  padding: 10px;\n  border-bottom: 1px solid #eee;\n}\n\n.search-result:hover {\n  background-color: #f5f5f5;\n}\n\n#status {\n  margin-top: 10px;\n  color: #666;\n}",
    "js": "// 模拟搜索API\nconst mockApi = {\n  search: (query) => {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        const results = [];\n        for (let i = 1; i <= 5; i++) {\n          results.push({\n            id: i,\n            title: `${query} 结果 ${i}`,\n            description: `这是关于${query}的第${i}个搜索结果`\n          });\n        }\n        resolve(results);\n      }, 1000); // 模拟1秒延迟\n    });\n  }\n};\n\n// 搜索状态\nlet currentController = null;\n\n// 搜索函数\nasync function performSearch(query) {\n  // 如果有正在进行的搜索，取消它\n  if (currentController) {\n    currentController.abort();\n  }\n  \n  // 创建新的AbortController\n  const controller = new AbortController();\n  currentController = controller;\n  \n  try {\n    // 显示搜索状态\n    document.getElementById('status').textContent = '搜索中...';\n    \n    // 执行搜索\n    const results = await mockApi.search(query, { signal: controller.signal });\n    \n    // 显示结果\n    displayResults(results);\n    document.getElementById('status').textContent = '搜索完成';\n  } catch (error) {\n    if (error.name === 'AbortError') {\n      document.getElementById('status').textContent = '搜索已取消';\n    } else {\n      document.getElementById('status').textContent = '搜索出错';\n      console.error(error);\n    }\n  } finally {\n    currentController = null;\n  }\n}\n\n// 显示搜索结果\nfunction displayResults(results) {\n  const resultsContainer = document.getElementById('results');\n  resultsContainer.innerHTML = '';\n  \n  results.forEach(result => {\n    const resultElement = document.createElement('div');\n    resultElement.className = 'search-result';\n    resultElement.innerHTML = `\n      <div class=\"result-title\">${result.title}</div>\n      <div class=\"result-description\">${result.description}</div>\n    `;\n    resultsContainer.appendChild(resultElement);\n  });\n}\n\n// 搜索输入事件\ndocument.getElementById('search').addEventListener('input', (e) => {\n  const query = e.target.value;\n  if (query.length > 0) {\n    performSearch(query);\n  } else {\n    document.getElementById('results').innerHTML = '';\n    document.getElementById('status').textContent = '';\n  }\n});"
  },
  "expectedOutput": "请求取消功能应该：\n1. 当用户快速输入时取消之前的搜索请求\n2. 显示适当的搜索状态（搜索中、搜索完成、搜索已取消）\n3. 只显示最新的搜索结果\n4. 避免不必要的网络请求\n5. 代码能够正常工作而不出现竞态条件\n\nJavaScript应该使用：\n- AbortController\n- 请求取消\n- 状态管理\n- 事件处理\n- Promise\n\nHTML和CSS保持不变，因为这是一个JavaScript练习。"
}